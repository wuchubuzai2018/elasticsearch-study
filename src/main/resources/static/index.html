<html !DOCTYPE>
    <head>
        <title>ElasticSearch学习页面</title>
        <meta charset="UTF-8"/>
        <link rel="stylesheet" href="./js/element-ui/index.css"/>
        <style type="text/css">
            #app .top{
                height:60px;
                line-height:60px;
                padding-left:20px;
                font-size:20px;
                color:#FFF;
                background-color: #545c64;
            }
        </style>
        <script type="text/javascript" src="./js/vue.min.js"></script>
        <script type="text/javascript" src="./js/element-ui/index.js"></script>
        <script type="text/javascript" src="./js/axios.min.js"></script>
    </head>
    <body>
        <div id="app">
            <el-container v-loading="vloading">
                <el-header class="top">
                    Vue+ElasticSearch主页面
                </el-header>
                <el-main>
                    <el-row>
                        <el-alert title="进度" type="info"
                                  description="目前实现前端的查询,后端的保存等" show-icon>
                        </el-alert>
                    </el-row>
                    <el-row>
                        <el-button type="primary" size="mini" @click="queryData">查询</el-button>
                        <el-button type="primary" size="mini">增加</el-button>
                        <el-button type="primary" size="mini">修改</el-button>
                        <el-button type="primary" size="mini">删除</el-button>
                        <el-button type="primary" size="mini">开始爬取</el-button>
                    </el-row>
                    <el-table size="mini" :data="tableData" style="width: 100%" height="500">
                        <el-table-column prop="movieId" label="电影ID" width="70"></el-table-column>
                        <el-table-column prop="movieName" label="电影名称" width="150"></el-table-column>
                        <el-table-column prop="type" label="类型" width="50"></el-table-column>
                        <el-table-column prop="area" label="地区" width="50"></el-table-column>
                        <el-table-column prop="director" label="导演" width="150"></el-table-column>
                        <el-table-column prop="releaseDate" label="上映日期" width="120"></el-table-column>
                        <el-table-column prop="score" label="豆瓣评分" width="100"></el-table-column>
                        <el-table-column prop="language" label="语言" width="150"></el-table-column>
                        <el-table-column prop="year" label="年份" width="80"></el-table-column>
                        <el-table-column prop="actors" label="演员" ></el-table-column>
                    </el-table>
                </el-main>
            </el-container>
        </div>
    </body>
    <script type="text/javascript">
        var vm = new Vue({
            el : '#app',
            data : {
                vloading:false,
                tableData:[],
                showlist : true,
                activeIndex: '1',
                activeIndex2: '1'
            },
            methods : {
                add:function(){
                    alert("asd");
                    vm.showlist = false;
                },
                handleSelect:function(key, keyPath){
                    console.log(key, keyPath);
                },
                queryData:function(){
                    var self = this;
                    self.vloading = true;
                    var url = "/movie/getAllMovie";
                    axios.post(url).then(function (response) {
                        self.vloading = false;
                       if(response && response.data && response.data.success){
                           self.tableData = response.data.list;
                       }
                    }).catch(function (error) {
                        self.vloading = false;
                        console.log(error);
                    });
                }
            }
        });
    </script>
</html>